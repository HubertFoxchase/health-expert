<html ng-app="c4c">
<head>
<meta name="viewport" content="width=device-width, height=device-height, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
<meta name="version" content="2" />

<script>
	var start = Date.now();
</script>

<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/0.11.0/angular-material.min.css">
<link rel="stylesheet" href="/dashboard-assets/css/style.css">
<link rel="stylesheet" href="/dashboard-assets/css/animation.css">


</head>
<body layout="row" ng-controller="AppCtrl" style="overflow:hidden;" ng-class="$root.readyClass">

	<div id="progress" style="position:absolute; top:50%;left:50%">
		<md-progress-circular class="md-accent"
			md-mode="indeterminate"></md-progress-circular>
	</div>
	
	<md-sidenav layout="column"	class="md-sidenav-left md-whiteframe-z2" id="left" md-component-id="left" md-is-locked-open="$mdMedia('gt-md')">
		<md-toolbar style="background-color:#fff; border-bottom: 1px solid #ddd"> 
			<h1 title="Click4Care" class="logotype">
		  		<img src="/dashboard-assets/css/img/C4C-logotype-full.svg">
			</h1>
		</md-toolbar> 
		<div layout="row" layout-padding layout-align="space-between center" class="user-box">
			<user-avatar></user-avatar>
			<div flex>
				<h4>{{$root.user.name}}</h4>
				<span style="font-size: 85%">{{$root.organisation.name}}</span>
			</div>
		</div>
		<md-divider></md-divider> 
		<md-list class="menu"> 
			<md-item>
				<a ng-href="#/grid">
					<md-item-content md-ink-ripple layout="row"	layout-align="start center">
						<div class="inset">
							<ng-md-icon icon="dashboard"></ng-md-icon>
						</div>
						<div class="inset">Waiting room</div>
					</md-item-content>
				</a>
			</md-item> 
			<md-item class="sub" ng-repeat="(id, user) in $root.doctors">
				<a ng-href="#/grid/{{user.id}}">
					<md-item-content md-ink-ripple layout="row"	layout-align="start center">
						<div class="inset">
							<ng-md-icon icon="person"></ng-md-icon>
						</div>
						<div class="inset">{{user.name}}</div>
					</md-item-content>
				</a> 
			</md-item> 

			<md-item> 
				<a ng-href="#/history">
					<md-item-content md-ink-ripple layout="row"	layout-align="start center">
						<div class="inset">
							<ng-md-icon icon="history"></ng-md-icon>
						</div>
						<div class="inset">History</div>
					</md-item-content>
				</a> 
			</md-item> 
			<md-item> 
				<a ng-href="#/patients">
					<md-item-content md-ink-ripple layout="row"	layout-align="start center">
						<div class="inset">
							<ng-md-icon icon="group"></ng-md-icon>
						</div>
						<div class="inset">Patients</div>
					</md-item-content>
				</a> 
			</md-item> 
			<md-divider style="margin-top:8px"></md-divider> 
			<md-subheader>Management</md-subheader> 
			<md-item> 
				<a  ng-href="#/account">
					<md-item-content md-ink-ripple layout="row"	layout-align="start center">
						<div class="inset">
							<ng-md-icon icon="account_circle"></ng-md-icon>
						</div>
						<div class="inset">Account</div>
					</md-item-content>
				</a> 
			</md-item> 
			<md-item> 
				<a ng-href="#/settings">
					<md-item-content md-ink-ripple layout="row"	layout-align="start center">
						<div class="inset">
							<ng-md-icon icon="settings"></ng-md-icon>
						</div>
						<div class="inset">Settings</div>
					</md-item-content>
				</a> 
			</md-item> 
			<md-item> 
				<a ng-href="/auth/logout">
					<md-item-content md-ink-ripple layout="row"	layout-align="start center">
						<div class="inset">
							<ng-md-icon icon="logout"></ng-md-icon>
						</div>
						<div class="inset">Logout</div>
					</md-item-content>
				</a> 
			</md-item> 		
			<md-subheader>Incoming</md-subheader> 
			<md-item ng-repeat="(id, caller) in $root.callers"> 
				<a ng-click="$root.rtcCall(id)">
					<md-item-content md-ink-ripple layout="row"	layout-align="start center">
						<div class="inset">
							<ng-md-icon icon="person"></ng-md-icon>
						</div>
						<div class="inset">{{caller.username}}</div>
					</md-item-content>
				</a> 
			</md-item> 		

		</md-list> 

	</md-sidenav>
	<div layout="column" flex class="relative" role="main" id="main">

		<md-toolbar layout="row">
			<div class="md-toolbar-tools">
	        	<md-button class="md-icon-button" ng-click="back()" ng-show="$root.showBackBtn" aria-label="Back">
	            	<ng-md-icon icon="arrow_back"></ng-md-icon>
	          	</md-button>
	          	<md-button class="md-icon-button"  ng-click="toggleSidenav('left')" hide-gt-md aria-label="Menu">
	            	<ng-md-icon icon="menu"></ng-md-icon>
	          	</md-button>
	          	<span flex></span>
				
	          	<md-button class="md-icon-button" aria-label="Search" ng-click="refresh=!refresh">
	          		<md-tooltip>
          				Auto refresh dashboard
        			</md-tooltip>
		            <ng-md-icon icon="autorenew" ng-class="refresh?'rotate':''"></ng-md-icon>
	          	</md-button>
				
	          	<md-button class="md-icon-button" aria-label="Search">
	          		<md-tooltip>
          				Help
        			</md-tooltip>
		            <ng-md-icon icon="help"></ng-md-icon>
	          	</md-button>
	          	
		        <md-menu md-position-mode="target-right target">

		          <md-button aria-label="Open menu" class="md-icon-button" ng-click="$mdOpenMenu()">
		            <ng-md-icon icon="more_vert"></ng-md-icon>
		          </md-button>

		          <md-menu-content width="2">
		            <md-menu-item ng-repeat="item in [1, 2, 3]">
		              <md-button ng-click="ctrl.announceClick($index)">
		                <p>Option {{item}}</p>
		              </md-button>
		            </md-menu-item>
		          </md-menu-content>

		        </md-menu>	          	
	          	
	        </div>
		</md-toolbar>
		
		<md-content flex md-scroll-y class="c4c-app-background">
			<div ng-view layout="column" layout-fill layout-padding style="padding:10px 20px">

			</div>
		</md-content>
		
		<!-- 
		<div class="view-container">
			<div ng-view class="view-frame"></div>
		</div>
		-->
	</div>

	<script src="//apis.google.com/js/client.js"></script>

	<script	src="//ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular.min.js"></script>
	<script	src="//ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular-route.min.js"></script>
	<script	src="//ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular-animate.min.js"></script>
	<script	src="//ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular-aria.min.js"></script>
	<script	src="//ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular-messages.min.js"></script>    
	<script	src="//ajax.googleapis.com/ajax/libs/angular_material/0.11.0/angular-material.min.js"></script>

	<script src="//cdnjs.cloudflare.com/ajax/libs/angular-material-icons/0.5.0/angular-material-icons.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/SVG-Morpheus/0.1.8/svg-morpheus.js"></script>

	<script src="//cdn.jsdelivr.net/momentjs/2.10.3/moment.min.js"></script>
	<script src="//cdn.jsdelivr.net/momentjs.timezone/0.4.0/moment-timezone-with-data.min.js"></script>
	<script src="//cdn.jsdelivr.net/angular.moment/0.10.3/angular-moment.min.js"></script>


	<script src="//c4c-nibler.rhcloud.com/socket.io/socket.io.js"></script>
	<script src="//c4c-nibler.rhcloud.com/easyrtc/easyrtc.js"></script>

	<script>
    	console.log("Angular loaded: " + (Date.now() - start) + " ms");
    </script>

	<script src="/dashboard-assets/js/app.js"></script>
	<script src="/dashboard-assets/js/controllers.js"></script>
	<script src="/dashboard-assets/js/services.js"></script>
	<script src="/dashboard-assets/js/directives.js"></script>



	<script>
		(function(i, s, o, g, r, a, m) {
			i['GoogleAnalyticsObject'] = r;
			i[r] = i[r] || function() {
				(i[r].q = i[r].q || []).push(arguments)
			}, i[r].l = 1 * new Date();
			a = s.createElement(o), m = s.getElementsByTagName(o)[0];
			a.async = 1;
			a.src = g;
			m.parentNode.insertBefore(a, m)
		})(window, document, 'script',
				'//www.google-analytics.com/analytics.js', 'ga');

		ga('create', 'UA-60113800-2', 'auto');
		ga('send', 'pageview');
	</script>
</body>
</html>
