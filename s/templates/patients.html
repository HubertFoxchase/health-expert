<div layout="row" class="session-tools">
	<h3>Patients</h3>
	<span flex></span>
	<div layout="row" layout-align="end center" ng-show="selected.length > 0">
 		<md-button class="md-raised" ng-click="clearSelected()">Clear</md-button>
 		<md-button class="md-raised" ng-click="deleteSelected()">Delete</md-button>
	</div>
	<div layout="row" layout-align="end center" ng-hide="selected.length > 0">
 		<md-button class="md-raised md-primary md-accent" ng-click="newUser()">New Patient</md-button>
	</div>
</div>

<div layout="column" class="md-whiteframe-z1">
	<div layout="column" flex>
		
		<div layout="row" class="table-header">
		    <div flex="5"></div>
		    <div flex>Reference</div>
		    <div flex>Gender</div>
		    <div flex>Age</div>
		</div>

		<div class="table-row" layout="row" layout-align="center center" ng-hide="patients">
			<div flex="20">Loading ...</div>
		</div>
		
		<div layout="row" ng-repeat="patient in patients" 
						  class="table-row" 
						  ng-class="exists(patient.id, selected) ? 'selected' : ''" 
						  ng-click="showDetail(patient, $event)">
		    <div flex="5" layout="row" layout-align="center start"  class="checkbox-container">
		    	<md-checkbox ng-click="toggle(patient.id, selected, $event)" ng-checked="exists(patient.id, selected)" aria-label="{{patient.id}}"></md-checkbox>
		    </div>
		    <div flex>{{patient.ref}}</div>
		    <div flex>{{patient.gender}}</div>
		    <div flex>{{patient.age}}</div>
		</div>
	</div>
</div>
